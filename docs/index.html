<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BA Digital API Documentation</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>BA Digital API</h1>
        <p class="version">v1.0.0</p>
      </div>

      <nav class="sidebar-nav">
        <div class="nav-section">
          <h3>Getting Started</h3>
          <a href="#introduction" class="nav-link">Introduction</a>
          <a href="#authentication" class="nav-link">Authentication</a>
          <a href="#base-url" class="nav-link">Base URL</a>
          <a href="#responses" class="nav-link">Response Format</a>
        </div>

        <div class="nav-section">
          <h3>Authentication</h3>
          <a href="#auth-register" class="nav-link">Register</a>
          <a href="#auth-login" class="nav-link">Login</a>
          <a href="#auth-profile" class="nav-link">Get Profile</a>
        </div>

        <div class="nav-section">
          <h3>Users</h3>
          <a href="#users-list" class="nav-link">Get All Users</a>
          <a href="#users-role" class="nav-link">Get Users by Role</a>
          <a href="#users-update" class="nav-link">Update Profile</a>
          <a href="#users-password" class="nav-link">Change Password</a>
        </div>

        <div class="nav-section">
          <h3>BAPB</h3>
          <a href="#bapb-create" class="nav-link">Create BAPB</a>
          <a href="#bapb-list" class="nav-link">Get All BAPB</a>
          <a href="#bapb-detail" class="nav-link">Get BAPB Detail</a>
          <a href="#bapb-submit" class="nav-link">Submit BAPB</a>
          <a href="#bapb-approve" class="nav-link">Approve BAPB</a>
          <a href="#bapb-reject" class="nav-link">Reject BAPB</a>
        </div>

        <div class="nav-section">
          <h3>BAPP</h3>
          <a href="#bapp-create" class="nav-link">Create BAPP</a>
          <a href="#bapp-list" class="nav-link">Get All BAPP</a>
          <a href="#bapp-detail" class="nav-link">Get BAPP Detail</a>
          <a href="#bapp-submit" class="nav-link">Submit BAPP</a>
        </div>

        <div class="nav-section">
          <h3>Documents</h3>
          <a href="#doc-bapb-pdf" class="nav-link">Generate BAPB PDF</a>
          <a href="#doc-bapp-pdf" class="nav-link">Generate BAPP PDF</a>
        </div>

        <div class="nav-section">
          <h3>Notifications</h3>
          <a href="#notif-list" class="nav-link">Get Notifications</a>
          <a href="#notif-mark-read" class="nav-link">Mark as Read</a>
        </div>

        <div class="nav-section">
          <h3>Payment</h3>
          <a href="#payment-bapb" class="nav-link">Process BAPB Payment</a>
          <a href="#payment-bapp" class="nav-link">Process BAPP Payment</a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Introduction Section -->
      <section id="introduction" class="doc-section">
        <h1>BA Digital System API</h1>

        <div class="info-box">
          <div class="info-item">
            <span class="label">Version:</span>
            <span class="value">1.0.0</span>
          </div>
          <div class="info-item">
            <span class="label">Database:</span>
            <span class="value">Supabase</span>
          </div>
          <div class="info-item">
            <span class="label">Security:</span>
            <span class="value">JWT + Helmet</span>
          </div>
        </div>

        <p>API ini menyediakan endpoint untuk mengelola dokumen BAPB (Berita Acara Pemeriksaan Barang) dan BAPP (Berita Acara Pemeriksaan Pekerjaan) dengan alur kerja persetujuan lengkap, tanda tangan digital, dan pemrosesan pembayaran.</p>
      </section>

      <!-- Authentication Guide -->
      <section id="authentication" class="doc-section">
        <h2>Authentication</h2>
        <p>API menggunakan JWT (JSON Web Token) untuk autentikasi. Token dikirimkan melalui header Authorization dengan format Bearer.</p>

        <div class="code-block">
          <div class="code-header">
            <span>Request Header</span>
          </div>
          <pre><code>Authorization: Bearer YOUR_JWT_TOKEN</code></pre>
        </div>

        <div class="alert alert-warning"><strong>‚ö†Ô∏è Important:</strong> Token expires in 7 days. Refresh token sebelum expired.</div>
      </section>

      <!-- Base URL -->
      <section id="base-url" class="doc-section">
        <h2>Base URL</h2>
        <div class="code-block">
          <pre><a href="https://ba-digital-api.up.railway.app/docs/" class="endpoint">https://ba-digital-api.up.railway.app/docs</a></pre>
        </div>
      </section>

      <!-- Response Format -->
      <section id="responses" class="doc-section">
        <h2>Response Format</h2>
        <p>Semua response menggunakan format JSON dengan struktur standar:</p>

        <h3>Success Response</h3>
        <div class="code-block">
          <div class="code-header">
            <span>JSON</span>
          </div>
          <pre><code>{
  "success": true,
  "message": "Success message",
  "data": {
    // response data
  }
}</code></pre>
        </div>

        <h3>Error Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": false,
  "message": "Error message",
  "error": "Detailed error description"
}</code></pre>
        </div>
      </section>

      <!-- AUTH ENDPOINTS -->
      <section id="auth-register" class="doc-section">
        <h2>Register User</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/auth/register</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "email": "vendor@example.com",
  "password": "password123",
  "name": "Vendor Test",
  "role": "vendor",
  "phone": "081234567890",
  "company": "PT Test Vendor"
}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "User registered successfully",
  "data": {
    "user": {
      "id": "uuid",
      "email": "vendor@example.com",
      "name": "Vendor Test",
      "role": "vendor"
    },
    "token": "jwt_token_here"
  }
}</code></pre>
        </div>

        <div class="param-table">
          <h3>Parameters</h3>
          <table>
            <thead>
              <tr>
                <th>Field</th>
                <th>Type</th>
                <th>Required</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>email</code></td>
                <td>string</td>
                <td>‚úì</td>
                <td>Valid email address</td>
              </tr>
              <tr>
                <td><code>password</code></td>
                <td>string</td>
                <td>‚úì</td>
                <td>Min 6 characters</td>
              </tr>
              <tr>
                <td><code>name</code></td>
                <td>string</td>
                <td>‚úì</td>
                <td>Full name</td>
              </tr>
              <tr>
                <td><code>role</code></td>
                <td>string</td>
                <td>‚úì</td>
                <td>vendor | pic_gudang | admin | approver</td>
              </tr>
              <tr>
                <td><code>phone</code></td>
                <td>string</td>
                <td></td>
                <td>Phone number</td>
              </tr>
              <tr>
                <td><code>company</code></td>
                <td>string</td>
                <td></td>
                <td>Company name</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="auth-login" class="doc-section">
        <h2>Login</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/auth/login</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "email": "vendor@example.com",
  "password": "password123"
}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "Login successful",
  "data": {
    "user": {
      "id": "uuid",
      "email": "vendor@example.com",
      "name": "Vendor Test",
      "role": "vendor"
    },
    "token": "jwt_token_here"
  }
}</code></pre>
        </div>
      </section>

      <section id="auth-profile" class="doc-section">
        <h2>Get Profile</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/auth/profile</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Headers</h3>
        <div class="code-block">
          <pre><code>Authorization: Bearer {token}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "vendor@example.com",
      "name": "Vendor Test",
      "role": "vendor",
      "phone": "081234567890",
      "company": "PT Test Vendor",
      "is_active": true
    }
  }
}</code></pre>
        </div>
      </section>

      <!-- BAPB ENDPOINTS -->
      <section id="bapb-create" class="doc-section">
        <h2>Create BAPB</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapb</span>
          <span class="badge-auth">üîí Vendor Only</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "orderNumber": "PO-2024-001",
  "deliveryDate": "2024-01-20",
  "notes": "Pengiriman barang sesuai PO",
  "items": [
    {
      "itemName": "Laptop Dell XPS 13",
      "quantityOrdered": 10,
      "quantityReceived": 10,
      "unit": "unit",
      "condition": "baik",
      "notes": "Semua unit dalam kondisi baik"
    }
  ]
}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "BAPB created successfully",
  "data": {
    "id": "uuid",
    "bapb_number": "BAPB/2024/12/0001",
    "order_number": "PO-2024-001",
    "status": "draft",
    "items": [...]
  }
}</code></pre>
        </div>
      </section>

      <section id="bapb-list" class="doc-section">
        <h2>Get All BAPB</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/bapb</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Query Parameters</h3>
        <div class="param-table">
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>status</code></td>
                <td>string</td>
                <td>Filter by status (draft, submitted, approved, etc.)</td>
              </tr>
              <tr>
                <td><code>page</code></td>
                <td>number</td>
                <td>Page number (default: 1)</td>
              </tr>
              <tr>
                <td><code>limit</code></td>
                <td>number</td>
                <td>Items per page (default: 10)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": [...],
  "pagination": {
    "total": 50,
    "page": 1,
    "limit": 10,
    "totalPages": 5
  }
}</code></pre>
        </div>
      </section>

      <section id="bapb-detail" class="doc-section">
        <h2>Get BAPB Detail</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/bapb/:id</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": {
    "id": "uuid",
    "bapb_number": "BAPB/2024/12/0001",
    "status": "submitted",
    "vendor": {...},
    "items": [...],
    "approvals": [...],
    "attachments": [...]
  }
}</code></pre>
        </div>
      </section>

      <section id="bapb-submit" class="doc-section">
        <h2>Submit BAPB</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapb/:id/submit</span>
          <span class="badge-auth">üîí Vendor Only</span>
        </div>

        <p>Submit BAPB untuk review. Status akan berubah dari 'draft' ke 'submitted'.</p>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "BAPB submitted successfully",
  "data": {
    "id": "uuid",
    "status": "submitted"
  }
}</code></pre>
        </div>
      </section>

      <section id="bapb-approve" class="doc-section">
        <h2>Approve BAPB</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapb/:id/approve</span>
          <span class="badge-auth">üîí PIC Gudang / Approver</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "notes": "Barang sesuai dengan pesanan"
}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "BAPB approved successfully",
  "data": {
    "id": "uuid",
    "status": "approved"
  }
}</code></pre>
        </div>
      </section>

      <section id="bapb-reject" class="doc-section">
        <h2>Reject BAPB</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapb/:id/reject</span>
          <span class="badge-auth">üîí PIC Gudang / Approver</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "rejectionReason": "Barang tidak sesuai spesifikasi",
  "notes": "Laptop yang diterima berbeda model"
}</code></pre>
        </div>
      </section>

      <!-- BAPP ENDPOINTS -->
      <section id="bapp-create" class="doc-section">
        <h2>Create BAPP</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapp</span>
          <span class="badge-auth">üîí Vendor Only</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "contractNumber": "SPK-2024-001",
  "projectName": "Pembangunan Gedung A",
  "projectLocation": "Jakarta Selatan",
  "startDate": "2024-01-01",
  "endDate": "2024-12-31",
  "completionDate": "2024-11-30",
  "workItems": [
    {
      "workItemName": "Pondasi",
      "plannedProgress": 100,
      "actualProgress": 95,
      "unit": "m3",
      "quality": "good",
      "notes": "Sudah selesai"
    }
  ]
}</code></pre>
        </div>
      </section>

      <section id="bapp-list" class="doc-section">
        <h2>Get All BAPP</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/bapp</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Query Parameters</h3>
        <div class="param-table">
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>status</code></td>
                <td>string</td>
                <td>Filter by status</td>
              </tr>
              <tr>
                <td><code>projectName</code></td>
                <td>string</td>
                <td>Search by project name</td>
              </tr>
              <tr>
                <td><code>page</code></td>
                <td>number</td>
                <td>Page number</td>
              </tr>
              <tr>
                <td><code>limit</code></td>
                <td>number</td>
                <td>Items per page</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section id="bapp-detail" class="doc-section">
        <h2>Get BAPP Detail</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/bapp/:id</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": {
    "id": "uuid",
    "bapp_number": "BAPP/2024/12/0001",
    "contract_number": "SPK-2024-001",
    "project_name": "Pembangunan Gedung A",
    "total_progress": 85.5,
    "status": "approved",
    "work_items": [...],
    "vendor": {...}
  }
}</code></pre>
        </div>
      </section>

      <section id="bapp-submit" class="doc-section">
        <h2>Submit BAPP</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/bapp/:id/submit</span>
          <span class="badge-auth">üîí Vendor Only</span>
        </div>

        <p>Submit BAPP untuk review oleh Direksi Pekerjaan.</p>
      </section>

      <!-- DOCUMENT ENDPOINTS -->
      <section id="doc-bapb-pdf" class="doc-section">
        <h2>Generate BAPB PDF</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/documents/bapb/:id/pdf</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <p>Generate dan download PDF document untuk BAPB. Response adalah file PDF binary.</p>

        <h3>Preview PDF (Base64)</h3>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/documents/bapb/:id/preview</span>
        </div>

        <p>Mendapatkan PDF dalam format base64 untuk preview di browser.</p>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": {
    "pdf": "data:application/pdf;base64,...",
    "fileName": "BAPB-2024-12-0001.pdf"
  }
}</code></pre>
        </div>
      </section>

      <section id="doc-bapp-pdf" class="doc-section">
        <h2>Generate BAPP PDF</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/documents/bapp/:id/pdf</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <p>Generate dan download PDF document untuk BAPP.</p>

        <h3>Preview PDF (Base64)</h3>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/documents/bapp/:id/preview</span>
        </div>
      </section>

      <!-- NOTIFICATION ENDPOINTS -->
      <section id="notif-list" class="doc-section">
        <h2>Get Notifications</h2>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/notifications</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Query Parameters</h3>
        <div class="param-table">
          <table>
            <thead>
              <tr>
                <th>Parameter</th>
                <th>Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>isRead</code></td>
                <td>boolean</td>
                <td>Filter by read status</td>
              </tr>
              <tr>
                <td><code>type</code></td>
                <td>string</td>
                <td>Filter by notification type</td>
              </tr>
              <tr>
                <td><code>priority</code></td>
                <td>string</td>
                <td>Filter by priority (low, medium, high, urgent)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "type": "bapb_submitted",
      "title": "BAPB Baru Menunggu Review",
      "message": "BAPB BAPB/2024/12/0001 telah disubmit",
      "is_read": false,
      "priority": "high",
      "created_at": "2024-12-13T10:00:00Z"
    }
  ],
  "pagination": {...}
}</code></pre>
        </div>
      </section>

      <section id="notif-mark-read" class="doc-section">
        <h2>Mark Notification as Read</h2>
        <div class="endpoint-badge">
          <span class="method put">PUT</span>
          <span class="path">/notifications/:id/read</span>
          <span class="badge-auth">üîí Auth Required</span>
        </div>

        <h3>Mark All as Read</h3>
        <div class="endpoint-badge">
          <span class="method put">PUT</span>
          <span class="path">/notifications/mark-all-read</span>
        </div>

        <h3>Get Unread Count</h3>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/notifications/unread-count</span>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "data": {
    "count": 5
  }
}</code></pre>
        </div>
      </section>

      <!-- PAYMENT ENDPOINTS -->
      <section id="payment-bapb" class="doc-section">
        <h2>Process BAPB Payment</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/payment/bapb/:id/process</span>
          <span class="badge-auth">üîí Admin Only</span>
        </div>

        <div class="alert alert-info"><strong>Note:</strong> Ini adalah simulasi payment gateway. Tidak ada transaksi uang yang sebenarnya terjadi.</div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "amount": 50000000,
  "paymentMethod": "bank_transfer"
}</code></pre>
        </div>

        <h3>Response</h3>
        <div class="code-block">
          <pre><code>{
  "success": true,
  "message": "Payment processed successfully (SIMULATION)",
  "data": {
    "bapbNumber": "BAPB/2024/12/0001",
    "vendorName": "PT Test Vendor",
    "amount": 50000000,
    "transactionId": "TXN-1702468800000-ABC123",
    "status": "success",
    "estimatedSettlement": "2024-12-14",
    "simulationNote": "This is a simulated payment"
  }
}</code></pre>
        </div>

        <h3>Check Payment Readiness</h3>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/payment/bapb/:id/readiness?type=BAPB</span>
        </div>

        <h3>Get Payment Logs</h3>
        <div class="endpoint-badge">
          <span class="method get">GET</span>
          <span class="path">/payment/bapb/:id/logs?type=BAPB</span>
        </div>
      </section>

      <section id="payment-bapp" class="doc-section">
        <h2>Process BAPP Payment</h2>
        <div class="endpoint-badge">
          <span class="method post">POST</span>
          <span class="path">/payment/bapp/:id/process</span>
          <span class="badge-auth">üîí Admin Only</span>
        </div>

        <h3>Request Body</h3>
        <div class="code-block">
          <pre><code>{
  "contractAmount": 1000000000,
  "amount": 850000000,
  "paymentMethod": "bank_transfer"
}</code></pre>
        </div>

        <p>Amount dihitung berdasarkan progress: <code>(contractAmount √ó totalProgress) / 100</code></p>
      </section>

      <!-- Error Codes -->
      <section id="error-codes" class="doc-section">
        <h2>HTTP Status Codes</h2>

        <div class="param-table">
          <table>
            <thead>
              <tr>
                <th>Code</th>
                <th>Status</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>200</code></td>
                <td>OK</td>
                <td>Request berhasil</td>
              </tr>
              <tr>
                <td><code>201</code></td>
                <td>Created</td>
                <td>Resource berhasil dibuat</td>
              </tr>
              <tr>
                <td><code>400</code></td>
                <td>Bad Request</td>
                <td>Request tidak valid</td>
              </tr>
              <tr>
                <td><code>401</code></td>
                <td>Unauthorized</td>
                <td>Token tidak valid atau expired</td>
              </tr>
              <tr>
                <td><code>403</code></td>
                <td>Forbidden</td>
                <td>Tidak memiliki akses</td>
              </tr>
              <tr>
                <td><code>404</code></td>
                <td>Not Found</td>
                <td>Resource tidak ditemukan</td>
              </tr>
              <tr>
                <td><code>500</code></td>
                <td>Internal Server Error</td>
                <td>Server error</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- User Roles -->
      <section id="user-roles" class="doc-section">
        <h2>User Roles</h2>

        <div class="role-cards">
          <div class="role-card">
            <h3>Vendor</h3>
            <p>Dapat membuat, edit, dan submit BAPB/BAPP</p>
            <ul>
              <li>Create BAPB/BAPP</li>
              <li>Update dokumen (draft/revision)</li>
              <li>Upload signature & attachments</li>
              <li>View own documents</li>
            </ul>
          </div>

          <div class="role-card">
            <h3>PIC Gudang</h3>
            <p>Approve/reject BAPB yang masuk</p>
            <ul>
              <li>View all BAPB</li>
              <li>Approve/Reject BAPB</li>
              <li>Request revision</li>
              <li>Upload signature</li>
            </ul>
          </div>

          <div class="role-card">
            <h3>Approver</h3>
            <p>Approve/reject BAPP (Direksi Pekerjaan)</p>
            <ul>
              <li>View all BAPP</li>
              <li>Approve/Reject BAPP</li>
              <li>Request revision</li>
              <li>Upload signature</li>
            </ul>
          </div>

          <div class="role-card">
            <h3>Admin</h3>
            <p>Full access ke semua fitur</p>
            <ul>
              <li>User management</li>
              <li>View all documents</li>
              <li>Process payments</li>
              <li>Access all endpoints</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Postman Collection -->
      <section id="postman" class="doc-section">
        <h2>Postman Collection</h2>
        <p>Download Postman Collection untuk testing API lebih mudah:</p>

        <div class="alert alert-info">
          <strong>Files Available:</strong>
          <ul>
            <li>
              <a href="./BA Digital API - Postman Collection.json" download class="postman"> BA Digital API - Postman Collection.json </a>
            </li>
            <li>
              <a href="./BA Digital API - Postman Environment.postman_environment.json" download class="postman"> BA Digital API - Postman Environment.json </a>
            </li>
          </ul>
        </div>

        <h3>Import ke Postman</h3>
        <ol>
          <li>Buka Postman</li>
          <li>Click "Import" di kiri atas</li>
          <li>Drag & drop kedua file JSON</li>
          <li>Set environment ke "BA Digital API - Local"</li>
          <li>Update <code>baseUrl</code> jika perlu</li>
          <li>Login untuk mendapatkan token</li>
          <li>Token akan otomatis tersimpan di environment</li>
        </ol>
      </section>

      <!-- Footer -->
      <footer class="doc-footer">
        <p>BA Digital System API Documentation v1.0.0</p>
      </footer>
    </main>

    <script>
      // Smooth scroll
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({ behavior: "smooth", block: "start" });

            // Update active link
            document.querySelectorAll(".nav-link").forEach((link) => {
              link.classList.remove("active");
            });
            this.classList.add("active");
          }
        });
      });

      // Highlight active section on scroll
      window.addEventListener("scroll", () => {
        const sections = document.querySelectorAll(".doc-section");
        const navLinks = document.querySelectorAll(".nav-link");

        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (pageYOffset >= sectionTop - 100) {
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === `#${current}`) {
            link.classList.add("active");
          }
        });
      });

      // Copy code functionality
      document.querySelectorAll(".code-block").forEach((block) => {
        const button = document.createElement("button");
        button.className = "copy-btn";
        button.textContent = "Copy";
        button.onclick = () => {
          const code = block.querySelector("code").textContent;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = "Copied!";
            setTimeout(() => (button.textContent = "Copy"), 2000);
          });
        };
        block.appendChild(button);
      });
    </script>
  </body>
</html>



